












CONTINUAMOS A DISCUSSION...








NA ÚLTIMA AULA,

TENTAMOS RODAR 


MÚLTIPLAS QUERIES EM PARALELO,

EM 1 MESMA WAREHOUSE DE TAMANHO PEQUENO...






ESSAS 3 QUERIES ACABARAM COMPETINDO POR RESOURCES...












--> AGORA DEVEMOS RAPIDAMENTE 


ABRIR 1 DESSAS QUERIES E CHECAR 

O QUE ACONTECEU NO BACKGROUND...












--> PERCEBEMOS QUE 


A MAIOR PARTE 


DO TEMPO DA QUERY FOI GASTA  (60.4%) 


ESCANEANDO A TABLE... -------__> TEMOS 1 REMOTE DISK I/O 

operation 


DE 84.3%,




UMA OPERATION QUE ACONTECEU, DE READ,

PARA PULLAR 



 A DATA DO REMOTE DISK/SERVICE LAYER 


PARA O SNOWFLAKE 



REMOTE DISK LAYER ---> ASSIM QUE A DATA É PULLADA,





PARA FAZER AGGREGATE DE TODA ELA,



FOI GASTO 39% do tempo...











--> A PARTE DO FILTERING TOMOU 0.2% do tempo...











---------> QUER DIZER QUE SE CONSEGUÍSSEMOS 

FAZER WRITE  


RÁPIDO 


DO "REMOTE STORAGE LAYER" AO VIRTUAL WAREHOUSE LAYER,




PODERÍAMOS FACILMENTE PROCESSAR ESSA DATA 


NESSE VIRTUAL WAREHOUSE LAYER,

O QUE 


AUMENTARIA 



NOSSA PERFORMANCE...













DEVEMOS CHECAR ISSO RAPIDAMENTE,



COM ESTES ESQUEMAS:










TEMOS:






1) O REMOTE STORAGE LAYER (
    no caso, é o AMAZON S3...
)





2) SNOWFLAKE VIRTUAL MACHINE (ec2) ----_> COM ELE,

É LIDA A DATA DO AMAZON S3 (
    snowflake remote storage...
)



E ENTAO ESCRITA DENTRO DA "SNOWFLAKE VIRTUAL MACHINE"...








--> SE ESSE PROCESSO DE PULL E WRITE 


FICAR MAIS RÁPIDO,


PODERÍAMOS/PODEMOS PROCESSAR A DATA MAIS RÁPIDO,


E A QUERY RESPONSE TIME PODE SER MELHORADA, COM ISSO...







--> OK, MAS COMO DIABOS 

PODEMOS AUMENTAR A VELOCIDADE 


DE ESSE PROCESSO DE READ E WRITE 

LÁ DA AMAZON S3,

PARA DENTRO 


DESSA SNOWFLAKE VIRTUAL MACHINE?














--> PARA ISSO, PODEMOS RAPIDAMENTE USAR 

ALGUMAS MÁQUINAS 

QUE 

SAO OPTIMIZADAS PARA FAZER ISSO, 

PARA FAZER OPERATIONS DE READ E WRITE,





E AÍ PODEMOS "READ"



A DATA PARALELAMENTE DESSAS MÁQUINAS,


E AÍ 


PODEMOS 

RAPIDAMENTE
WRITTAR 

A DATA 


NA SNOWFLAKE VIRTUAL MACHINE...







E ESSAS MACHINES PODEM SER COMPRADAS 

"ON-DEMAND",

O QUE QUER DIZER QUE 
ASSIM QUE 
ELAS TERMINAM COM O SERVICE,
ELAS 
PODEM 
SER 


"RELEASED" (são compradas ON-DEMAND)....






COM ISSO, CONSEGUIMOS AUMENTAR A VELOCIDADE 


(acelerar) DA OPERATION DE 

__READ, 



READ DA DATA NO REMOTE STORAGE (amazon s3) 



AO WRITE NO SNOWFLAKE VIRTUAL MACHINE --> COM ISSO,


CONSEUGIMOS INDIRETAMENTE REDUZIR O 

TEMPO DE QUERY..










--> E É POR ISSO QUE O 

SNOWFLAKE CHAMA ISSO DE "QUERY ACCELERATION SERVICE"...










--> QUER DIZER QUE ESTAMOS INDIRETAMENTE MELHORANDO 
ESSA OPERATION DE READ/WRITE,



E MELHORANDO 


A QUERY RESPONSE TIME...












--> ALGUMAS MACHINES SAO SPINNED UP NO BACKGROUND,



que actually nos ajudam a ler a data do remote storage 

layer e a escrever no snowflake virtual machine...










ESSE É O QUERY ACCELERATION SERVICE...













--> QUER DIZER QUE QUERIES QUE TOMAM 



MT TEMPO/CUSTO EM 

"REMOTE/DISK IO"



podem BENEFICIAR-SE SERIAMENTE 


DO USO DE "QUERY ACCELERATION SERVICE"...










ESSE É O CONCEITO POR TRÁS DESSE SERVICE...







AGORA DEVEMOS VER A PRÓXIMA AULA, UM DEMO...