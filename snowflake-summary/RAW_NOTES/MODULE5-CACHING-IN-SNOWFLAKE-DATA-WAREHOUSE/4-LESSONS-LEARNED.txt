



Lessons:






1) you always need a virtual warehouse to execute queries...








2) NAO RODE "SELECT *" com queries 

snowflake.... PQ PARA PROCESSAR TAIS QUANTIDADES 
ABSURDAS DE DATA,

SEU WAREHOUSE COST VAI AUMENTAR,
E VAI 

DESPERDIÇAR CREDITS DO SNOWFLAKE...






3) SE VC QUER RODAR "SELECT *" QUERIES,



SEMPRE USE CLAUSES DE "LIMIT",



PARA QUE VC PEGUE APENAS 1 POUCO DO CONTEÚDO,

E NAO TUDO...













4) ALWAYS USE LIMIT CLAUSE WITH SELECT * FROM queries....









5) VIMOS QUE O VIRTUAL WAREHOUSE É 
SUSPENDIDO DEPOIS DE 180 SEGUNDOS de inatividade...

(
    E O CACHE DO VIRTUAL WAREHOUSE É PURGEADO...
)






6) SE TIVÉSSEMOS MANTIDO 

O AUTO SUSPEND TIME LIMIT 

DAS VIRTUAL WAREHOUSES MAIS ALTO,


O CACHING NAO TERIA SIDO PURGEADO...











7) "DURING DEVELOPMENT ACTIVITY, 
ALWAYS KEEP AUTO SUSPEND TIME LIMIT 
TO A HIGHER VALUE... AT LEAST 15 MINUTES"...










8) SE USER 1, 2 E 3 


ESTAO TRABALHANDO EM 1 MESMO SET DE TABLES,


COMO "TABLE A,B E C",


É UMA BOA IDEIA 


FAZER OS 3 USAREM 1 MESMA WAREHOUSE...









9) SHARE YOUR VIRTUAL WAREHOUSE WHEN GROUPS 

OF USERS 

ARE WORKING ON THE COMMON TABLES...







10) NEVER DISABLE 

result CACHE OF CLOUD SERVICES LAYER (


    PQ APESAR DE VC PODER USAR O LOCAL DISK CACHE 
    DAS VIRTUAL WAREHOUSES,

   1 QUANTIDADE SIGNIFICATIVA DE TEMPO 
   SERÁ 
   GASTA COM DATA PROCESSING  
    E COM O WRITE 
    DO RESULT 

    DE VOLTA AO 

    LAYER DE CLOUD SERVICES --------__> E ISSO AUMENTA SEU CUSTO...
)













11) O USO DO RESULT CACHE 

É DE GRAÇA, VC NAO GASTA COM PROCESSAMENTO....









12) REUSING QUERY RESULT IN SNOWFLAKE IS FREE...






















PERGUNTAS:









WHAT IF UNDERLYING TABLE GET UPDATED?






-> bem, aí o result set será descartado...









"HOW LONG THIS QUERY RESULT WILL BE CACHED?"


(nao sei)









"WILL SNOWFLAKE CHARGE TO STORE THIS RESULT?"




(acho que nao)....